{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar react_router_1 = require(\"react-router\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar classes = require(\"./BankDetail.module.scss\");\n\nvar ConfirmDelete_1 = require(\"../../UI/ConfirmDelete/ConfirmDelete\");\n\nvar enums_1 = require(\"../../../shared/enums\");\n\nvar actions = require(\"../../../store/actions/bankActions\");\n\nvar Modal_1 = require(\"../../UI/Modal/Modal\");\n\nvar Carousel = require('react-responsive-carousel').Carousel;\n\n;\nvar BankDetail = react_1.memo(function (_a) {\n  var id = _a.id;\n\n  var _b = react_redux_1.useSelector(function (state) {\n    return {\n      bank: state.bank.selectedBank,\n      bankPhotos: state.bank.photos,\n      successfulOperation: state.common.successfulOperation,\n      failedOperation: state.common.failedOperation,\n      loggedIn: state.auth.loggedIn,\n      token: state.auth.token,\n      error: state.common.error\n    };\n  }),\n      bank = _b.bank,\n      successfulOperation = _b.successfulOperation,\n      failedOperation = _b.failedOperation,\n      loggedIn = _b.loggedIn,\n      token = _b.token,\n      error = _b.error;\n\n  var dispatch = react_redux_1.useDispatch();\n  var action = react_router_1.useParams().action;\n  var history = react_router_1.useHistory();\n\n  var _c = react_1.useState(),\n      redirect = _c[0],\n      setRedirect = _c[1];\n\n  var _d = react_1.useState(false),\n      isDeleteConfirmShown = _d[0],\n      setShowDeleteConfirm = _d[1];\n\n  react_1.useEffect(function () {\n    dispatch(actions.fetchBank(id));\n  }, [id]);\n  react_1.useEffect(function () {\n    if (failedOperation && failedOperation === enums_1.FailedOperation.FetchBank) {\n      cancelHandler();\n    }\n  }, [failedOperation]);\n  react_1.useEffect(function () {\n    if (!action && successfulOperation === enums_1.SuccessfulOperation.Delete) {\n      cancelHandler();\n    }\n  }, [successfulOperation]);\n  var cancelHandler = react_1.useCallback(function () {\n    setRedirect(React.createElement(react_router_1.Redirect, {\n      to: \"/Banks\"\n    }));\n  }, [setRedirect]);\n  var editHandler = react_1.useCallback(function () {\n    history.push(\"/Banks/\" + id + \"/edit\");\n  }, [id, history]);\n  var deleteConfirmContent = react_1.useMemo(function () {\n    return React.createElement(Modal_1.default, {\n      isShown: isDeleteConfirmShown,\n      type: enums_1.ModalType.COMPONENT\n    }, React.createElement(ConfirmDelete_1.default, {\n      onOK: function onOK() {\n        return confirmDeleteHandler(true);\n      },\n      onCancel: function onCancel() {\n        return confirmDeleteHandler(false);\n      }\n    }));\n  }, [isDeleteConfirmShown]);\n  var deleteHandler = react_1.useCallback(function () {\n    setShowDeleteConfirm(true);\n  }, [setShowDeleteConfirm]);\n  var confirmDeleteHandler = react_1.useCallback(function (isConfirmed) {\n    if (isConfirmed) {\n      dispatch(actions.deleteBank(id, token));\n    }\n\n    setShowDeleteConfirm(false);\n  }, [id, token, setShowDeleteConfirm]);\n  return React.createElement(\"div\", {\n    className: classes.BankDetail\n  }, redirect, deleteConfirmContent, React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, React.createElement(\"h4\", null, bank === null || bank === void 0 ? void 0 : bank.name))), React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, React.createElement(\"div\", {\n    className: \"btn-group\"\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: cancelHandler\n  }, \"Back\"), React.createElement(\"button\", {\n    className: \"btn btn-primary dropdown-toggle\",\n    \"data-toggle\": \"dropdown\"\n  }, \"Manage\", React.createElement(\"span\", {\n    className: \"caret\"\n  })), React.createElement(\"div\", {\n    className: \"dropdown-menu\"\n  }, loggedIn && React.createElement(react_1.Fragment, null, React.createElement(\"div\", {\n    className: \"dropdown-divider\"\n  }), React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    onClick: editHandler\n  }, \"Edit\"), React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    onClick: deleteHandler\n  }, \"Delete\")))))));\n});\nexports.default = BankDetail;","map":{"version":3,"sources":["BankDetail.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar react_router_1 = require(\"react-router\");\r\nvar react_redux_1 = require(\"react-redux\");\r\nvar classes = require(\"./BankDetail.module.scss\");\r\nvar ConfirmDelete_1 = require(\"../../UI/ConfirmDelete/ConfirmDelete\");\r\nvar enums_1 = require(\"../../../shared/enums\");\r\nvar actions = require(\"../../../store/actions/bankActions\");\r\nvar Modal_1 = require(\"../../UI/Modal/Modal\");\r\nvar Carousel = require('react-responsive-carousel').Carousel;\r\n;\r\nvar BankDetail = react_1.memo(function (_a) {\r\n    var id = _a.id;\r\n    var _b = react_redux_1.useSelector(function (state) { return ({\r\n        bank: state.bank.selectedBank,\r\n        bankPhotos: state.bank.photos,\r\n        successfulOperation: state.common.successfulOperation,\r\n        failedOperation: state.common.failedOperation,\r\n        loggedIn: state.auth.loggedIn,\r\n        token: state.auth.token,\r\n        error: state.common.error\r\n    }); }), bank = _b.bank, successfulOperation = _b.successfulOperation, failedOperation = _b.failedOperation, loggedIn = _b.loggedIn, token = _b.token, error = _b.error;\r\n    var dispatch = react_redux_1.useDispatch();\r\n    var action = react_router_1.useParams().action;\r\n    var history = react_router_1.useHistory();\r\n    var _c = react_1.useState(), redirect = _c[0], setRedirect = _c[1];\r\n    var _d = react_1.useState(false), isDeleteConfirmShown = _d[0], setShowDeleteConfirm = _d[1];\r\n    react_1.useEffect(function () {\r\n        dispatch(actions.fetchBank(id));\r\n    }, [id]);\r\n    react_1.useEffect(function () {\r\n        if (failedOperation && failedOperation === enums_1.FailedOperation.FetchBank) {\r\n            cancelHandler();\r\n        }\r\n    }, [failedOperation]);\r\n    react_1.useEffect(function () {\r\n        if (!action && successfulOperation === enums_1.SuccessfulOperation.Delete) {\r\n            cancelHandler();\r\n        }\r\n    }, [successfulOperation]);\r\n    var cancelHandler = react_1.useCallback(function () {\r\n        setRedirect(React.createElement(react_router_1.Redirect, { to: \"/Banks\" }));\r\n    }, [setRedirect]);\r\n    var editHandler = react_1.useCallback(function () {\r\n        history.push(\"/Banks/\" + id + \"/edit\");\r\n    }, [id, history]);\r\n    var deleteConfirmContent = react_1.useMemo(function () {\r\n        return (React.createElement(Modal_1.default, { isShown: isDeleteConfirmShown, type: enums_1.ModalType.COMPONENT },\r\n            React.createElement(ConfirmDelete_1.default, { onOK: function () { return confirmDeleteHandler(true); }, onCancel: function () { return confirmDeleteHandler(false); } })));\r\n    }, [isDeleteConfirmShown]);\r\n    var deleteHandler = react_1.useCallback(function () {\r\n        setShowDeleteConfirm(true);\r\n    }, [setShowDeleteConfirm]);\r\n    var confirmDeleteHandler = react_1.useCallback(function (isConfirmed) {\r\n        if (isConfirmed) {\r\n            dispatch(actions.deleteBank(id, token));\r\n        }\r\n        setShowDeleteConfirm(false);\r\n    }, [id, token, setShowDeleteConfirm]);\r\n    return (React.createElement(\"div\", { className: classes.BankDetail },\r\n        redirect,\r\n        deleteConfirmContent,\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" },\r\n                React.createElement(\"h4\", null, bank === null || bank === void 0 ? void 0 : bank.name))),\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" },\r\n                React.createElement(\"div\", { className: \"btn-group\" },\r\n                    React.createElement(\"button\", { className: \"btn btn-primary\", onClick: cancelHandler }, \"Back\"),\r\n                    React.createElement(\"button\", { className: \"btn btn-primary dropdown-toggle\", \"data-toggle\": \"dropdown\" },\r\n                        \"Manage\",\r\n                        React.createElement(\"span\", { className: \"caret\" })),\r\n                    React.createElement(\"div\", { className: \"dropdown-menu\" }, loggedIn && (React.createElement(react_1.Fragment, null,\r\n                        React.createElement(\"div\", { className: \"dropdown-divider\" }),\r\n                        React.createElement(\"a\", { className: \"dropdown-item\", onClick: editHandler }, \"Edit\"),\r\n                        React.createElement(\"a\", { className: \"dropdown-item\", onClick: deleteHandler }, \"Delete\")))))))));\r\n});\r\nexports.default = BankDetail;\r\n//# sourceMappingURL=BankDetail.js.map"]},"metadata":{},"sourceType":"module"}