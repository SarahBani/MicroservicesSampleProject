{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar classes = require(\"./BanksSummary.module.scss\");\n\nvar actions = require(\"../../../store/actions/bankActions\");\n\nvar withErrorHandler_1 = require(\"../../../hoc/withErrorHandler/withErrorHandler\");\n\n;\n\nvar BanksSummary = function BanksSummary() {\n  var banks = react_redux_1.useSelector(function (state) {\n    return {\n      banks: state.bank.banks\n    };\n  }).banks;\n  var dispatch = react_redux_1.useDispatch();\n  var isRendered = react_1.useRef(false);\n\n  var _a = React.useState(false),\n      fetched = _a[0],\n      setFetched = _a[1];\n\n  react_1.useEffect(function () {\n    console.log(2222222);\n    var ac = new AbortController();\n    Promise.resolve([dispatch(actions.fetchBanks(1, 6))]).then(function () {\n      setFetched(true);\n      console.log(4444444);\n    }).catch(function (ex) {\n      return console.error(ex);\n    });\n    return function () {\n      return ac.abort();\n    }; // Abort both fetches on unmount\n    //isRendered.current = true;\n    //console.log(isRendered)\n    //if (isRendered.current) { \n    //    dispatch(actions.fetchBanks(1, 6));\n    //}\n    //return () => {\n    //    isRendered.current = false;\n    //};\n  }, []);\n  var bankItemCards = React.createElement(\"div\", null); //useMemo((): ReactElement[] => (banks?.map(bank =>\n  //    <BankItemCard key={bank.id} bank={bank} />))\n  //    , [banks]);\n\n  return React.createElement(\"div\", {\n    className: [\"card-deck\", classes.BanksSummary].join(' ')\n  }, bankItemCards);\n};\n\nexports.default = withErrorHandler_1.default(BanksSummary);","map":{"version":3,"sources":["BanksSummary.tsx"],"names":[],"mappings":";;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,4BAAA,CAAA;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,oCAAA,CAAA;;AAGA,IAAA,kBAAA,GAAA,OAAA,CAAA,gDAAA,CAAA;;AAIC;;AAED,IAAM,YAAY,GAAO,SAAnB,YAAmB,GAAA;AAEb,MAAA,KAAK,GAAiB,aAAA,CAAA,WAAA,CAAY,UAAC,KAAD,EAAgB;AAAK,WAAC;AAC5D,MAAA,KAAK,EAAE,KAAK,CAAC,IAAN,CAAW;AAD0C,KAAD;AAE7D,GAF4B,EAAjB,KAAL;AAGR,MAAM,QAAQ,GAAG,aAAA,CAAA,WAAA,EAAjB;AACA,MAAI,UAAU,GAAG,OAAA,CAAA,MAAA,CAAO,KAAP,CAAjB;;AACM,MAAA,EAAA,GAAwB,KAAK,CAAC,QAAN,CAAe,KAAf,CAAxB;AAAA,MAAC,OAAO,GAAA,EAAA,CAAA,CAAA,CAAR;AAAA,MAAU,UAAU,GAAA,EAAA,CAAA,CAAA,CAApB;;AAEN,EAAA,OAAA,CAAA,SAAA,CAAU,YAAA;AACN,IAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACA,QAAM,EAAE,GAAG,IAAI,eAAJ,EAAX;AACA,IAAA,OAAO,CAAC,OAAR,CAAgB,CACZ,QAAQ,CAAC,OAAO,CAAC,UAAR,CAAmB,CAAnB,EAAsB,CAAtB,CAAD,CADI,CAAhB,EAEG,IAFH,CAEQ,YAAA;AACJ,MAAA,UAAU,CAAC,IAAD,CAAV;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACH,KALD,EAMK,KANL,CAMW,UAAA,EAAA,EAAE;AAAI,aAAA,OAAO,CAAC,KAAR,CAAA,EAAA,CAAA;AAAiB,KANlC;AAOA,WAAO,YAAA;AAAM,aAAA,EAAE,CAAF,KAAA,EAAA;AAAU,KAAvB,CAVM,CAUmB;AAGzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GArBD,EAqBG,EArBH;AAuBA,MAAM,aAAa,GAAG,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,IAAA,CAAtB,CAhCqB,CAiCrB;AACA;AACA;;AAEA,SACI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAE,CAAC,WAAD,EAAc,OAAO,CAAC,YAAtB,EAAoC,IAApC,CAAyC,GAAzC;AAAhB,GAAA,EACK,aADL,CADJ;AAKH,CA1CD;;AA4CA,OAAA,CAAA,OAAA,GAAe,kBAAA,CAAA,OAAA,CAAiB,YAAjB,CAAf","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar react_redux_1 = require(\"react-redux\");\r\nvar classes = require(\"./BanksSummary.module.scss\");\r\nvar actions = require(\"../../../store/actions/bankActions\");\r\nvar withErrorHandler_1 = require(\"../../../hoc/withErrorHandler/withErrorHandler\");\r\n;\r\nvar BanksSummary = function () {\r\n    var banks = react_redux_1.useSelector(function (state) { return ({\r\n        banks: state.bank.banks\r\n    }); }).banks;\r\n    var dispatch = react_redux_1.useDispatch();\r\n    var isRendered = react_1.useRef(false);\r\n    var _a = React.useState(false), fetched = _a[0], setFetched = _a[1];\r\n    react_1.useEffect(function () {\r\n        console.log(2222222);\r\n        var ac = new AbortController();\r\n        Promise.resolve([\r\n            dispatch(actions.fetchBanks(1, 6))\r\n        ]).then(function () {\r\n            setFetched(true);\r\n            console.log(4444444);\r\n        })\r\n            .catch(function (ex) { return console.error(ex); });\r\n        return function () { return ac.abort(); }; // Abort both fetches on unmount\r\n        //isRendered.current = true;\r\n        //console.log(isRendered)\r\n        //if (isRendered.current) { \r\n        //    dispatch(actions.fetchBanks(1, 6));\r\n        //}\r\n        //return () => {\r\n        //    isRendered.current = false;\r\n        //};\r\n    }, []);\r\n    var bankItemCards = React.createElement(\"div\", null);\r\n    //useMemo((): ReactElement[] => (banks?.map(bank =>\r\n    //    <BankItemCard key={bank.id} bank={bank} />))\r\n    //    , [banks]);\r\n    return (React.createElement(\"div\", { className: [\"card-deck\", classes.BanksSummary].join(' ') }, bankItemCards));\r\n};\r\nexports.default = withErrorHandler_1.default(BanksSummary);\r\n//# sourceMappingURL=BanksSummary.js.map"]},"metadata":{},"sourceType":"module"}