{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar classes = require(\"./DropDown.module.scss\");\n\n;\n\nvar DropDown = function DropDown(props) {\n  var _a;\n\n  var initialItem = {\n    id: '',\n    text: props.placeholder ? '--- Select ' + props.placeholder + ' ---' : '------'\n  };\n\n  var _b = react_1.useState(),\n      selectedItem = _b[0],\n      setSelectedItem = _b[1];\n\n  var _c = react_1.useState(),\n      label = _c[0],\n      setLabel = _c[1];\n\n  var _d = react_1.useState(),\n      idAttribute = _d[0],\n      setIdAttribute = _d[1];\n\n  var itemListControl = react_1.useRef();\n  var listItems = react_1.useMemo(function () {\n    var _a;\n\n    var list = (_a = props.data) === null || _a === void 0 ? void 0 : _a.map(function (item) {\n      return React.createElement(\"li\", {\n        className: ['dropdown-item', (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === item.id ? classes.SelecedItem : ''].join(' '),\n        key: item.id,\n        id: item.id,\n        onClick: function onClick() {\n          return selectHandler(item);\n        }\n      }, item.imageUrl && React.createElement(\"img\", {\n        src: item.imageUrl\n      }), item.text);\n    });\n    list === null || list === void 0 ? void 0 : list.unshift(React.createElement(\"li\", {\n      className: ['dropdown-item', !selectedItem ? classes.SelecedItem : ''].join(' '),\n      key: initialItem.id,\n      id: initialItem.id,\n      onClick: function onClick() {\n        return selectHandler(initialItem);\n      }\n    }, initialItem.text));\n    return list;\n  }, [props.data, selectedItem]);\n  react_1.useEffect(function () {\n    var _a, _b;\n\n    if (((_a = props.data) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n      setSelectedItem(null);\n    } else {\n      if (props.value != '') {\n        var item = (_b = props.data) === null || _b === void 0 ? void 0 : _b.filter(function (q) {\n          return q.id === props.value;\n        })[0];\n        setSelectedItem(item);\n      } else {\n        setSelectedItem(null);\n      }\n    }\n  }, [props.data]);\n  react_1.useEffect(function () {\n    if (props.title) {\n      setLabel(React.createElement(\"label\", {\n        htmlFor: props.title\n      }, props.title, \": \"));\n      setIdAttribute(\" id='\" + props.title + \"' \");\n    }\n  }, [props.title]);\n  var selectHandler = react_1.useCallback(function (item) {\n    setSelectedItem(item);\n    props.onSelect(item === null || item === void 0 ? void 0 : item.id);\n  }, [props.onSelect, setSelectedItem]);\n  var filterHandler = react_1.useCallback(function (event) {\n    var _a;\n\n    var key = event.key.toLowerCase();\n    var filteredData = (_a = props.data) === null || _a === void 0 ? void 0 : _a.filter(function (q) {\n      return q.text.toLowerCase().startsWith(key);\n    });\n\n    if (filteredData.length > 0) {\n      var ul = itemListControl.current;\n      var li = ul.querySelector(\"li[id=\\\"\" + filteredData[0].id + \"\\\"]\");\n      ul.scrollTop = li === null || li === void 0 ? void 0 : li.offsetTop;\n    }\n  }, [props.data]);\n  return React.createElement(react_1.Fragment, null, label, React.createElement(\"div\", {\n    id: props.id,\n    className: [\"dropdown\", classes.DropDown, props.className].join(' '),\n    onKeyDown: function onKeyDown(event) {\n      return filterHandler(event);\n    },\n    onBlur: props.onBlur\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn dropdown-toggle\",\n    \"data-toggle\": \"dropdown\",\n    disabled: props.disabled\n  }, React.createElement(\"div\", null, (_a = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text) !== null && _a !== void 0 ? _a : initialItem.text)), React.createElement(\"ul\", {\n    ref: itemListControl,\n    className: \"dropdown-menu\"\n  }, listItems)));\n};\n\nexports.default = DropDown;","map":{"version":3,"sources":["DropDown.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar classes = require(\"./DropDown.module.scss\");\r\n;\r\nvar DropDown = function (props) {\r\n    var _a;\r\n    var initialItem = {\r\n        id: '',\r\n        text: props.placeholder ? ('--- Select ' + props.placeholder + ' ---') : '------'\r\n    };\r\n    var _b = react_1.useState(), selectedItem = _b[0], setSelectedItem = _b[1];\r\n    var _c = react_1.useState(), label = _c[0], setLabel = _c[1];\r\n    var _d = react_1.useState(), idAttribute = _d[0], setIdAttribute = _d[1];\r\n    var itemListControl = react_1.useRef();\r\n    var listItems = react_1.useMemo(function () {\r\n        var _a;\r\n        var list = (_a = props.data) === null || _a === void 0 ? void 0 : _a.map(function (item) {\r\n            return React.createElement(\"li\", { className: ['dropdown-item', ((selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === item.id ? classes.SelecedItem : '')].join(' '), key: item.id, id: item.id, onClick: function () { return selectHandler(item); } },\r\n                item.imageUrl && React.createElement(\"img\", { src: item.imageUrl }),\r\n                item.text);\r\n        });\r\n        list === null || list === void 0 ? void 0 : list.unshift(React.createElement(\"li\", { className: ['dropdown-item', (!selectedItem ? classes.SelecedItem : '')].join(' '), key: initialItem.id, id: initialItem.id, onClick: function () { return selectHandler(initialItem); } }, initialItem.text));\r\n        return list;\r\n    }, [props.data, selectedItem]);\r\n    react_1.useEffect(function () {\r\n        var _a, _b;\r\n        if (((_a = props.data) === null || _a === void 0 ? void 0 : _a.length) === 0) {\r\n            setSelectedItem(null);\r\n        }\r\n        else {\r\n            if (props.value != '') {\r\n                var item = (_b = props.data) === null || _b === void 0 ? void 0 : _b.filter(function (q) { return q.id === props.value; })[0];\r\n                setSelectedItem(item);\r\n            }\r\n            else {\r\n                setSelectedItem(null);\r\n            }\r\n        }\r\n    }, [props.data]);\r\n    react_1.useEffect(function () {\r\n        if (props.title) {\r\n            setLabel(React.createElement(\"label\", { htmlFor: props.title },\r\n                props.title,\r\n                \": \"));\r\n            setIdAttribute(\" id='\" + props.title + \"' \");\r\n        }\r\n    }, [props.title]);\r\n    var selectHandler = react_1.useCallback(function (item) {\r\n        setSelectedItem(item);\r\n        props.onSelect(item === null || item === void 0 ? void 0 : item.id);\r\n    }, [props.onSelect, setSelectedItem]);\r\n    var filterHandler = react_1.useCallback(function (event) {\r\n        var _a;\r\n        var key = event.key.toLowerCase();\r\n        var filteredData = (_a = props.data) === null || _a === void 0 ? void 0 : _a.filter(function (q) { return q.text.toLowerCase().startsWith(key); });\r\n        if (filteredData.length > 0) {\r\n            var ul = itemListControl.current;\r\n            var li = ul.querySelector(\"li[id=\\\"\" + filteredData[0].id + \"\\\"]\");\r\n            ul.scrollTop = li === null || li === void 0 ? void 0 : li.offsetTop;\r\n        }\r\n    }, [props.data]);\r\n    return (React.createElement(react_1.Fragment, null,\r\n        label,\r\n        React.createElement(\"div\", { id: props.id, className: [\"dropdown\", classes.DropDown, props.className].join(' '), onKeyDown: function (event) { return filterHandler(event); }, onBlur: props.onBlur },\r\n            React.createElement(\"button\", { type: \"button\", className: \"btn dropdown-toggle\", \"data-toggle\": \"dropdown\", disabled: props.disabled },\r\n                React.createElement(\"div\", null, (_a = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text) !== null && _a !== void 0 ? _a : initialItem.text)),\r\n            React.createElement(\"ul\", { ref: itemListControl, className: \"dropdown-menu\" }, listItems))));\r\n};\r\nexports.default = DropDown;\r\n//# sourceMappingURL=DropDown.js.map"]},"metadata":{},"sourceType":"module"}