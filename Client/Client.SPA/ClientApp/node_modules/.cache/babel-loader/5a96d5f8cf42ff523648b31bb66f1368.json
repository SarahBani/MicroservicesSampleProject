{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar Modal_1 = require(\"../../components/UI/Modal/Modal\");\n\nvar http_error_handler_1 = require(\"../../hooks/http-error-handler\");\n\nvar actions = require(\"../../store/actions/commonActions\");\n\nvar enums_1 = require(\"../../shared/enums\");\n\nvar axios_instance_1 = require(\"../../shared/axios-instance\");\n\nvar react_2 = require(\"react\");\n\n;\n\nvar withErrorHandler = function withErrorHandler(WrappedComponent) {\n  return function (props) {\n    var customError = react_redux_1.useSelector(function (state) {\n      return {\n        customError: state.common.error\n      };\n    }).customError;\n    var dispatch = react_redux_1.useDispatch();\n\n    var _a = react_1.useState(),\n        error = _a[0],\n        setError = _a[1];\n\n    var _b = react_1.useState(),\n        errorType = _b[0],\n        setErrorType = _b[1];\n\n    var _c = http_error_handler_1.default(axios_instance_1.default),\n        axiosError = _c[0],\n        axiosClearErrorHandler = _c[1];\n\n    react_1.useEffect(function () {\n      if (axiosError) {\n        console.log(7777777777);\n        setError(axiosError + '!');\n        setErrorType(enums_1.ModalTypeEnum.Error);\n      } else if (customError) {\n        console.log(56555);\n        setError(customError);\n        setErrorType(enums_1.ModalTypeEnum.Warning);\n      } else {\n        setError(null);\n      }\n    }, [axiosError, customError, setError]);\n    var onHideErrorHandler = react_2.useCallback(function () {\n      if (axiosError) {\n        axiosClearErrorHandler();\n      }\n\n      dispatch(actions.clearError());\n    }, [axiosError, axiosClearErrorHandler]);\n    return React.createElement(react_1.Fragment, null, React.createElement(Modal_1.default, {\n      type: errorType,\n      isShown: !!error,\n      onHide: onHideErrorHandler\n    }, error), React.createElement(WrappedComponent, __assign({}, props)));\n  };\n};\n\nexports.default = function (WrappedComponent) {\n  return withErrorHandler(WrappedComponent);\n};","map":{"version":3,"sources":["withErrorHandler.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,iCAAA,CAAA;;AACA,IAAA,oBAAA,GAAA,OAAA,CAAA,gCAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,mCAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,gBAAA,GAAA,OAAA,CAAA,6BAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAIC;;AAED,IAAM,gBAAgB,GAAG,SAAnB,gBAAmB,CAAC,gBAAD,EAA0B;AAE/C,SAAO,UAAC,KAAD,EAAW;AAEN,QAAA,WAAW,GAAiB,aAAA,CAAA,WAAA,CAAY,UAAC,KAAD,EAAgB;AAAK,aAAC;AAClE,QAAA,WAAW,EAAE,KAAK,CAAC,MAAN,CAAa;AADwC,OAAD;AAEnE,KAFkC,EAAjB,WAAX;AAGR,QAAM,QAAQ,GAAG,aAAA,CAAA,WAAA,EAAjB;;AACM,QAAA,EAAA,GAAoB,OAAA,CAAA,QAAA,EAApB;AAAA,QAAC,KAAK,GAAA,EAAA,CAAA,CAAA,CAAN;AAAA,QAAQ,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAhB;;AACA,QAAA,EAAA,GAA4B,OAAA,CAAA,QAAA,EAA5B;AAAA,QAAC,SAAS,GAAA,EAAA,CAAA,CAAA,CAAV;AAAA,QAAY,YAAY,GAAA,EAAA,CAAA,CAAA,CAAxB;;AACA,QAAA,EAAA,GAAuC,oBAAA,CAAA,OAAA,CAAoB,gBAAA,CAAA,OAApB,CAAvC;AAAA,QAAC,UAAU,GAAA,EAAA,CAAA,CAAA,CAAX;AAAA,QAAa,sBAAsB,GAAA,EAAA,CAAA,CAAA,CAAnC;;AAEN,IAAA,OAAA,CAAA,SAAA,CAAU,YAAA;AACN,UAAI,UAAJ,EAAgB;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,UAAZ;AACA,QAAA,QAAQ,CAAC,UAAU,GAAG,GAAd,CAAR;AACA,QAAA,YAAY,CAAC,OAAA,CAAA,aAAA,CAAc,KAAf,CAAZ;AACH,OAJD,MAKK,IAAI,WAAJ,EAAiB;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,QAAQ,CAAC,WAAD,CAAR;AACA,QAAA,YAAY,CAAC,OAAA,CAAA,aAAA,CAAc,OAAf,CAAZ;AACH,OAJI,MAKA;AACD,QAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AACJ,KAdD,EAcG,CAAC,UAAD,EAAa,WAAb,EAA0B,QAA1B,CAdH;AAgBA,QAAM,kBAAkB,GAAG,OAAA,CAAA,WAAA,CAAY,YAAA;AACnC,UAAI,UAAJ,EAAgB;AACZ,QAAA,sBAAsB;AACzB;;AACD,MAAA,QAAQ,CAAC,OAAO,CAAC,UAAR,EAAD,CAAR;AACH,KAL0B,EAKxB,CAAC,UAAD,EAAa,sBAAb,CALwB,CAA3B;AAOA,WACI,KAAA,CAAA,aAAA,CAAC,OAAA,CAAA,QAAD,EAAS,IAAT,EACI,KAAA,CAAA,aAAA,CAAC,OAAA,CAAA,OAAD,EAAM;AAAC,MAAA,IAAI,EAAE,SAAP;AAAmC,MAAA,OAAO,EAAE,CAAC,CAAC,KAA9C;AAAqD,MAAA,MAAM,EAAE;AAA7D,KAAN,EACK,KADL,CADJ,EAII,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB,QAAA,CAAA,EAAA,EAAK,KAAL,CAAjB,CAJJ,CADJ;AASH,GA1CD;AA2CH,CA7CD;;AA+CA,OAAA,CAAA,OAAA,GAAe,UAAC,gBAAD,EAA0B;AAAK,SAAA,gBAAgB,CAAhB,gBAAgB,CAAhB;AAAkC,CAAhF","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar react_redux_1 = require(\"react-redux\");\r\nvar Modal_1 = require(\"../../components/UI/Modal/Modal\");\r\nvar http_error_handler_1 = require(\"../../hooks/http-error-handler\");\r\nvar actions = require(\"../../store/actions/commonActions\");\r\nvar enums_1 = require(\"../../shared/enums\");\r\nvar axios_instance_1 = require(\"../../shared/axios-instance\");\r\nvar react_2 = require(\"react\");\r\n;\r\nvar withErrorHandler = function (WrappedComponent) {\r\n    return function (props) {\r\n        var customError = react_redux_1.useSelector(function (state) { return ({\r\n            customError: state.common.error\r\n        }); }).customError;\r\n        var dispatch = react_redux_1.useDispatch();\r\n        var _a = react_1.useState(), error = _a[0], setError = _a[1];\r\n        var _b = react_1.useState(), errorType = _b[0], setErrorType = _b[1];\r\n        var _c = http_error_handler_1.default(axios_instance_1.default), axiosError = _c[0], axiosClearErrorHandler = _c[1];\r\n        react_1.useEffect(function () {\r\n            if (axiosError) {\r\n                console.log(7777777777);\r\n                setError(axiosError + '!');\r\n                setErrorType(enums_1.ModalTypeEnum.Error);\r\n            }\r\n            else if (customError) {\r\n                console.log(56555);\r\n                setError(customError);\r\n                setErrorType(enums_1.ModalTypeEnum.Warning);\r\n            }\r\n            else {\r\n                setError(null);\r\n            }\r\n        }, [axiosError, customError, setError]);\r\n        var onHideErrorHandler = react_2.useCallback(function () {\r\n            if (axiosError) {\r\n                axiosClearErrorHandler();\r\n            }\r\n            dispatch(actions.clearError());\r\n        }, [axiosError, axiosClearErrorHandler]);\r\n        return (React.createElement(react_1.Fragment, null,\r\n            React.createElement(Modal_1.default, { type: errorType, isShown: !!error, onHide: onHideErrorHandler }, error),\r\n            React.createElement(WrappedComponent, __assign({}, props))));\r\n    };\r\n};\r\nexports.default = (function (WrappedComponent) { return withErrorHandler(WrappedComponent); });\r\n//# sourceMappingURL=withErrorHandler.js.map"]},"metadata":{},"sourceType":"module"}