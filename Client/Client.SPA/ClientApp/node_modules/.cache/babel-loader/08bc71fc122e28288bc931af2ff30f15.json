{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar classes = require(\"./DropDown.module.scss\");\n\n;\n\nvar DropDown = function DropDown(_a) {\n  var _b;\n\n  var data = _a.data,\n      title = _a.title,\n      value = _a.value,\n      placeholder = _a.placeholder,\n      disabled = _a.disabled,\n      onSelect = _a.onSelect;\n  var initialItem = {\n    id: '',\n    text: placeholder ? '--- Select ' + placeholder + ' ---' : '------'\n  };\n\n  var _c = react_1.useState(null),\n      selectedItem = _c[0],\n      setSelectedItem = _c[1];\n\n  var _d = react_1.useState(null),\n      label = _d[0],\n      setLabel = _d[1];\n\n  var _e = react_1.useState(null),\n      idAttribute = _e[0],\n      setIdAttribute = _e[1];\n\n  var itemListControl = react_1.useRef();\n  var listItems = react_1.useMemo(function () {\n    var list = data === null || data === void 0 ? void 0 : data.map(function (item) {\n      return React.createElement(\"li\", {\n        className: ['dropdown-item', (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === item.id ? classes.SelecedItem : ''].join(' '),\n        key: item.id,\n        id: item.id,\n        onClick: function onClick() {\n          return selectHandler(item);\n        }\n      }, item.imageUrl && React.createElement(\"img\", {\n        src: item.imageUrl\n      }), item.text);\n    });\n    list === null || list === void 0 ? void 0 : list.unshift(React.createElement(\"li\", {\n      className: ['dropdown-item', !selectedItem ? classes.SelecedItem : ''].join(' '),\n      key: initialItem.id,\n      id: initialItem.id,\n      onClick: function onClick() {\n        return selectHandler(initialItem);\n      }\n    }, initialItem.text));\n    return list;\n  }, [data, selectedItem]);\n  react_1.useEffect(function () {\n    if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n      setSelectedItem(null);\n    } else {\n      if (value != '') {\n        var item = data === null || data === void 0 ? void 0 : data.filter(function (q) {\n          return q.id === value;\n        })[0];\n        setSelectedItem(item);\n      } else {\n        setSelectedItem(null);\n      }\n    }\n  }, [data]);\n  react_1.useEffect(function () {\n    if (title) {\n      setLabel(React.createElement(\"label\", {\n        htmlFor: title\n      }, title, \": \"));\n      setIdAttribute(\" id='\" + title + \"' \");\n    }\n  }, [title]);\n  var selectHandler = react_1.useCallback(function (item) {\n    setSelectedItem(item);\n    onSelect(item === null || item === void 0 ? void 0 : item.id);\n  }, [onSelect, setSelectedItem]);\n  var filterHandler = react_1.useCallback(function (event) {\n    var key = event.key.toLowerCase();\n    var filteredData = data === null || data === void 0 ? void 0 : data.filter(function (q) {\n      return q.text.toLowerCase().startsWith(key);\n    });\n\n    if (filteredData.length > 0) {\n      var ul = itemListControl.current;\n      var li = ul.querySelector(\"li[id=\\\"\" + filteredData[0].id + \"\\\"]\");\n      ul.scrollTop = li.offsetTop;\n    }\n  }, [data]);\n  return React.createElement(react_1.Fragment, null, label, React.createElement(\"div\", {\n    id: title,\n    className: [\"dropdown\", classes.DropDown].join(' '),\n    onKeyDown: function onKeyDown(event) {\n      return filterHandler(event);\n    }\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn dropdown-toggle\",\n    \"data-toggle\": \"dropdown\",\n    disabled: disabled\n  }, React.createElement(\"div\", null, (_b = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text) !== null && _b !== void 0 ? _b : initialItem.text)), React.createElement(\"ul\", {\n    ref: itemListControl,\n    className: \"dropdown-menu\"\n  }, listItems)));\n};\n\nexports.default = DropDown;","map":{"version":3,"sources":["DropDown.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar classes = require(\"./DropDown.module.scss\");\r\n;\r\nvar DropDown = function (_a) {\r\n    var _b;\r\n    var data = _a.data, title = _a.title, value = _a.value, placeholder = _a.placeholder, disabled = _a.disabled, onSelect = _a.onSelect;\r\n    var initialItem = {\r\n        id: '',\r\n        text: placeholder ? '--- Select ' + placeholder + ' ---' : '------'\r\n    };\r\n    var _c = react_1.useState(null), selectedItem = _c[0], setSelectedItem = _c[1];\r\n    var _d = react_1.useState(null), label = _d[0], setLabel = _d[1];\r\n    var _e = react_1.useState(null), idAttribute = _e[0], setIdAttribute = _e[1];\r\n    var itemListControl = react_1.useRef();\r\n    var listItems = react_1.useMemo(function () {\r\n        var list = data === null || data === void 0 ? void 0 : data.map(function (item) {\r\n            return React.createElement(\"li\", { className: ['dropdown-item', ((selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === item.id ? classes.SelecedItem : '')].join(' '), key: item.id, id: item.id, onClick: function () { return selectHandler(item); } },\r\n                item.imageUrl && React.createElement(\"img\", { src: item.imageUrl }),\r\n                item.text);\r\n        });\r\n        list === null || list === void 0 ? void 0 : list.unshift(React.createElement(\"li\", { className: ['dropdown-item', (!selectedItem ? classes.SelecedItem : '')].join(' '), key: initialItem.id, id: initialItem.id, onClick: function () { return selectHandler(initialItem); } }, initialItem.text));\r\n        return list;\r\n    }, [data, selectedItem]);\r\n    react_1.useEffect(function () {\r\n        if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\r\n            setSelectedItem(null);\r\n        }\r\n        else {\r\n            if (value != '') {\r\n                var item = data === null || data === void 0 ? void 0 : data.filter(function (q) { return q.id === value; })[0];\r\n                setSelectedItem(item);\r\n            }\r\n            else {\r\n                setSelectedItem(null);\r\n            }\r\n        }\r\n    }, [data]);\r\n    react_1.useEffect(function () {\r\n        if (title) {\r\n            setLabel(React.createElement(\"label\", { htmlFor: title },\r\n                title,\r\n                \": \"));\r\n            setIdAttribute(\" id='\" + title + \"' \");\r\n        }\r\n    }, [title]);\r\n    var selectHandler = react_1.useCallback(function (item) {\r\n        setSelectedItem(item);\r\n        onSelect(item === null || item === void 0 ? void 0 : item.id);\r\n    }, [onSelect, setSelectedItem]);\r\n    var filterHandler = react_1.useCallback(function (event) {\r\n        var key = event.key.toLowerCase();\r\n        var filteredData = data === null || data === void 0 ? void 0 : data.filter(function (q) { return q.text.toLowerCase().startsWith(key); });\r\n        if (filteredData.length > 0) {\r\n            var ul = itemListControl.current;\r\n            var li = ul.querySelector(\"li[id=\\\"\" + filteredData[0].id + \"\\\"]\");\r\n            ul.scrollTop = li.offsetTop;\r\n        }\r\n    }, [data]);\r\n    return (React.createElement(react_1.Fragment, null,\r\n        label,\r\n        React.createElement(\"div\", { id: title, className: [\"dropdown\", classes.DropDown].join(' '), onKeyDown: function (event) { return filterHandler(event); } },\r\n            React.createElement(\"button\", { type: \"button\", className: \"btn dropdown-toggle\", \"data-toggle\": \"dropdown\", disabled: disabled },\r\n                React.createElement(\"div\", null, (_b = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text) !== null && _b !== void 0 ? _b : initialItem.text)),\r\n            React.createElement(\"ul\", { ref: itemListControl, className: \"dropdown-menu\" }, listItems))));\r\n};\r\nexports.default = DropDown;\r\n//# sourceMappingURL=DropDown.js.map"]},"metadata":{},"sourceType":"module"}