{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar react_router_1 = require(\"react-router\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar classes = require(\"./BankDetail.module.scss\");\n\nvar ConfirmDelete_1 = require(\"../../UI/ConfirmDelete/ConfirmDelete\");\n\nvar enums_1 = require(\"../../../shared/enums\");\n\nvar actions = require(\"../../../store/actions/bankActions\");\n\nvar Modal_1 = require(\"../../UI/Modal/Modal\");\n\nvar BankDetail = react_1.memo(function (_a) {\n  var id = _a.id;\n\n  var _b = react_redux_1.useSelector(function (state) {\n    return {\n      bank: state.bank.selectedBank,\n      bankPhotos: state.bank.photos,\n      successfulOperation: state.common.successfulOperation,\n      failedOperation: state.common.failedOperation,\n      loggedIn: state.auth.loggedIn,\n      token: state.auth.token,\n      error: state.common.error\n    };\n  }),\n      bank = _b.bank,\n      successfulOperation = _b.successfulOperation,\n      failedOperation = _b.failedOperation,\n      loggedIn = _b.loggedIn,\n      token = _b.token,\n      error = _b.error;\n\n  var dispatch = react_redux_1.useDispatch();\n  var action = react_router_1.useParams().action;\n  var history = react_router_1.useHistory();\n\n  var _c = react_1.useState(),\n      redirect = _c[0],\n      setRedirect = _c[1];\n\n  var _d = react_1.useState(false),\n      isDeleteConfirmShown = _d[0],\n      setShowDeleteConfirm = _d[1];\n\n  react_1.useEffect(function () {\n    dispatch(actions.fetchBank(id));\n  }, [id]);\n  react_1.useEffect(function () {\n    if (failedOperation && failedOperation === enums_1.FailedOperation.FetchBank) {\n      cancelHandler();\n    }\n  }, [failedOperation]);\n  react_1.useEffect(function () {\n    if (!action && successfulOperation === enums_1.SuccessfulOperation.Delete) {\n      cancelHandler();\n    }\n  }, [successfulOperation]);\n  var cancelHandler = react_1.useCallback(function () {\n    setRedirect(React.createElement(react_router_1.Redirect, {\n      to: \"/Banks\"\n    }));\n  }, [setRedirect]);\n  var editHandler = react_1.useCallback(function () {\n    history.push(\"/Banks/\" + id + \"/edit\");\n  }, [id, history]);\n  var deleteConfirmContent = react_1.useMemo(function () {\n    return React.createElement(Modal_1.default, {\n      isShown: isDeleteConfirmShown,\n      type: enums_1.ModalType.COMPONENT\n    }, React.createElement(ConfirmDelete_1.default, {\n      onOK: function onOK() {\n        return confirmDeleteHandler(true);\n      },\n      onCancel: function onCancel() {\n        return confirmDeleteHandler(false);\n      }\n    }));\n  }, [isDeleteConfirmShown]);\n  var deleteHandler = react_1.useCallback(function () {\n    setShowDeleteConfirm(true);\n  }, [setShowDeleteConfirm]);\n  var confirmDeleteHandler = react_1.useCallback(function (isConfirmed) {\n    if (isConfirmed) {\n      dispatch(actions.deleteBank(id, token));\n    }\n\n    setShowDeleteConfirm(false);\n  }, [id, token, setShowDeleteConfirm]);\n  return React.createElement(\"div\", {\n    className: classes.BankDetail\n  }, redirect, deleteConfirmContent, React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, React.createElement(\"h4\", null, bank === null || bank === void 0 ? void 0 : bank.name))), React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, React.createElement(\"div\", {\n    className: \"btn-group\"\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: cancelHandler\n  }, \"Back\"), React.createElement(\"button\", {\n    className: \"btn btn-primary dropdown-toggle\",\n    \"data-toggle\": \"dropdown\"\n  }, \"Manage\", React.createElement(\"span\", {\n    className: \"caret\"\n  })), React.createElement(\"div\", {\n    className: \"dropdown-menu\"\n  }, loggedIn && React.createElement(react_1.Fragment, null, React.createElement(\"div\", {\n    className: \"dropdown-divider\"\n  }), React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    onClick: editHandler\n  }, \"Edit\"), React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    onClick: deleteHandler\n  }, \"Delete\")))))));\n});\nexports.default = BankDetail;","map":{"version":3,"sources":["BankDetail.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar react_router_1 = require(\"react-router\");\r\nvar react_redux_1 = require(\"react-redux\");\r\nvar classes = require(\"./BankDetail.module.scss\");\r\nvar ConfirmDelete_1 = require(\"../../UI/ConfirmDelete/ConfirmDelete\");\r\nvar enums_1 = require(\"../../../shared/enums\");\r\nvar actions = require(\"../../../store/actions/bankActions\");\r\nvar Modal_1 = require(\"../../UI/Modal/Modal\");\r\n\r\nvar BankDetail = react_1.memo(function (_a) {\r\n    var id = _a.id;\r\n    var _b = react_redux_1.useSelector(function (state) { return ({\r\n        bank: state.bank.selectedBank,\r\n        bankPhotos: state.bank.photos,\r\n        successfulOperation: state.common.successfulOperation,\r\n        failedOperation: state.common.failedOperation,\r\n        loggedIn: state.auth.loggedIn,\r\n        token: state.auth.token,\r\n        error: state.common.error\r\n    }); }), bank = _b.bank, successfulOperation = _b.successfulOperation, failedOperation = _b.failedOperation, loggedIn = _b.loggedIn, token = _b.token, error = _b.error;\r\n    var dispatch = react_redux_1.useDispatch();\r\n    var action = react_router_1.useParams().action;\r\n    var history = react_router_1.useHistory();\r\n    var _c = react_1.useState(), redirect = _c[0], setRedirect = _c[1];\r\n    var _d = react_1.useState(false), isDeleteConfirmShown = _d[0], setShowDeleteConfirm = _d[1];\r\n    react_1.useEffect(function () {\r\n        dispatch(actions.fetchBank(id));\r\n    }, [id]);\r\n    react_1.useEffect(function () {\r\n        if (failedOperation && failedOperation === enums_1.FailedOperation.FetchBank) {\r\n            cancelHandler();\r\n        }\r\n    }, [failedOperation]);\r\n    react_1.useEffect(function () {\r\n        if (!action && successfulOperation === enums_1.SuccessfulOperation.Delete) {\r\n            cancelHandler();\r\n        }\r\n    }, [successfulOperation]);\r\n    var cancelHandler = react_1.useCallback(function () {\r\n        setRedirect(React.createElement(react_router_1.Redirect, { to: \"/Banks\" }));\r\n    }, [setRedirect]);\r\n    var editHandler = react_1.useCallback(function () {\r\n        history.push(\"/Banks/\" + id + \"/edit\");\r\n    }, [id, history]);\r\n    var deleteConfirmContent = react_1.useMemo(function () {\r\n        return (React.createElement(Modal_1.default, { isShown: isDeleteConfirmShown, type: enums_1.ModalType.COMPONENT },\r\n            React.createElement(ConfirmDelete_1.default, { onOK: function () { return confirmDeleteHandler(true); }, onCancel: function () { return confirmDeleteHandler(false); } })));\r\n    }, [isDeleteConfirmShown]);\r\n    var deleteHandler = react_1.useCallback(function () {\r\n        setShowDeleteConfirm(true);\r\n    }, [setShowDeleteConfirm]);\r\n    var confirmDeleteHandler = react_1.useCallback(function (isConfirmed) {\r\n        if (isConfirmed) {\r\n            dispatch(actions.deleteBank(id, token));\r\n        }\r\n        setShowDeleteConfirm(false);\r\n    }, [id, token, setShowDeleteConfirm]);\r\n    return (React.createElement(\"div\", { className: classes.BankDetail },\r\n        redirect,\r\n        deleteConfirmContent,\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" },\r\n                React.createElement(\"h4\", null, bank === null || bank === void 0 ? void 0 : bank.name))),\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" },\r\n                React.createElement(\"div\", { className: \"btn-group\" },\r\n                    React.createElement(\"button\", { className: \"btn btn-primary\", onClick: cancelHandler }, \"Back\"),\r\n                    React.createElement(\"button\", { className: \"btn btn-primary dropdown-toggle\", \"data-toggle\": \"dropdown\" },\r\n                        \"Manage\",\r\n                        React.createElement(\"span\", { className: \"caret\" })),\r\n                    React.createElement(\"div\", { className: \"dropdown-menu\" }, loggedIn && (React.createElement(react_1.Fragment, null,\r\n                        React.createElement(\"div\", { className: \"dropdown-divider\" }),\r\n                        React.createElement(\"a\", { className: \"dropdown-item\", onClick: editHandler }, \"Edit\"),\r\n                        React.createElement(\"a\", { className: \"dropdown-item\", onClick: deleteHandler }, \"Delete\")))))))));\r\n});\r\nexports.default = BankDetail;\r\n//# sourceMappingURL=BankDetail.js.map"]},"metadata":{},"sourceType":"module"}