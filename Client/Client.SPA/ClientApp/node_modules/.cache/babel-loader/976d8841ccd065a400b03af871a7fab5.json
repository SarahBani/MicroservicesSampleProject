{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_1 = require(\"react\");\n\nvar react_router_1 = require(\"react-router\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar classes = require(\"./BankDetail.module.scss\");\n\nvar ConfirmDelete_1 = require(\"../../UI/ConfirmDelete/ConfirmDelete\");\n\nvar enums_1 = require(\"../../../shared/enums\");\n\nvar actions = require(\"../../../store/actions/bankActions\");\n\nvar Modal_1 = require(\"../../UI/Modal/Modal\");\n\nvar Constants = require(\"../../../shared/constants\");\n\n;\nvar BankDetail = react_1.memo(function (_a) {\n  var id = _a.id;\n\n  var _b = react_redux_1.useSelector(function (state) {\n    return {\n      bank: state.bank.selectedBank,\n      successfulOperation: state.common.successfulOperation,\n      failedOperation: state.common.failedOperation,\n      loggedIn: state.auth.loggedIn,\n      token: state.auth.token,\n      error: state.common.error\n    };\n  }),\n      bank = _b.bank,\n      successfulOperation = _b.successfulOperation,\n      failedOperation = _b.failedOperation,\n      loggedIn = _b.loggedIn,\n      token = _b.token;\n\n  var dispatch = react_redux_1.useDispatch();\n  var action = react_router_1.useParams().action;\n  var history = react_router_1.useHistory();\n\n  var _c = react_1.useState(),\n      redirect = _c[0],\n      setRedirect = _c[1];\n\n  var _d = react_1.useState(false),\n      isDeleteConfirmShown = _d[0],\n      setShowDeleteConfirm = _d[1];\n\n  react_1.useEffect(function () {\n    dispatch(actions.fetchBank(id));\n  }, [id]);\n  var logo = react_1.useMemo(function () {\n    var fileManagerUrl = Constants.FILE_MANAGER_URL;\n    var logoSrc = (bank === null || bank === void 0 ? void 0 : bank.logoUrl) ? fileManagerUrl + \"/Resources/Images/Banks/\" + bank.logoUrl : 'images/no-image.png';\n    return React.createElement(\"img\", {\n      className: \"img-response\",\n      src: logoSrc\n    });\n  }, [bank]);\n  react_1.useEffect(function () {\n    if (!!failedOperation && failedOperation === enums_1.FailedOperationEnum.FetchBank) {\n      cancelHandler();\n    }\n  }, [failedOperation]);\n  react_1.useEffect(function () {\n    if (!action && successfulOperation === enums_1.SuccessfulOperationEnum.Delete) {\n      cancelHandler();\n    }\n  }, [successfulOperation]);\n  var cancelHandler = react_1.useCallback(function () {\n    dispatch(actions.clearSelectedBank());\n    setRedirect(React.createElement(react_router_1.Redirect, {\n      to: \"/Banks\"\n    }));\n  }, [setRedirect]);\n  var editHandler = react_1.useCallback(function () {\n    history.push(\"/Banks/\" + id + \"/edit\");\n  }, [id, history]);\n  var deleteConfirmContent = react_1.useMemo(function () {\n    return React.createElement(Modal_1.default, {\n      isShown: isDeleteConfirmShown,\n      type: enums_1.ModalTypeEnum.Component\n    }, React.createElement(ConfirmDelete_1.default, {\n      onOK: function onOK() {\n        return confirmDeleteHandler(true);\n      },\n      onCancel: function onCancel() {\n        return confirmDeleteHandler(false);\n      }\n    }));\n  }, [isDeleteConfirmShown]);\n  var deleteHandler = react_1.useCallback(function () {\n    setShowDeleteConfirm(true);\n  }, [setShowDeleteConfirm]);\n  var confirmDeleteHandler = react_1.useCallback(function (isConfirmed) {\n    if (isConfirmed) {\n      dispatch(actions.deleteBank(id, token));\n    }\n\n    setShowDeleteConfirm(false);\n  }, [id, token, setShowDeleteConfirm]);\n  return React.createElement(\"div\", {\n    className: classes.BankDetail\n  }, redirect, deleteConfirmContent, React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, logo)), React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, React.createElement(\"h4\", null, bank === null || bank === void 0 ? void 0 : bank.name))), React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-12\"\n  }, React.createElement(\"div\", {\n    className: \"btn-group\"\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: cancelHandler\n  }, \"Back\"), React.createElement(\"button\", {\n    className: \"btn btn-primary dropdown-toggle\",\n    type: \"button\",\n    \"data-bs-toggle\": \"dropdown\",\n    disabled: !loggedIn\n  }, \"Manage\"), React.createElement(\"ul\", {\n    className: \"dropdown-menu\"\n  }, !!loggedIn && React.createElement(react_1.Fragment, null, React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    onClick: editHandler\n  }, \"Edit\"), React.createElement(\"a\", {\n    className: \"dropdown-item\",\n    onClick: deleteHandler\n  }, \"Delete\")))))));\n});\nexports.default = BankDetail;","map":{"version":3,"sources":["BankDetail.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = require(\"react\");\r\nvar react_1 = require(\"react\");\r\nvar react_router_1 = require(\"react-router\");\r\nvar react_redux_1 = require(\"react-redux\");\r\nvar classes = require(\"./BankDetail.module.scss\");\r\nvar ConfirmDelete_1 = require(\"../../UI/ConfirmDelete/ConfirmDelete\");\r\nvar enums_1 = require(\"../../../shared/enums\");\r\nvar actions = require(\"../../../store/actions/bankActions\");\r\nvar Modal_1 = require(\"../../UI/Modal/Modal\");\r\nvar Constants = require(\"../../../shared/constants\");\r\n;\r\nvar BankDetail = react_1.memo(function (_a) {\r\n    var id = _a.id;\r\n    var _b = react_redux_1.useSelector(function (state) { return ({\r\n        bank: state.bank.selectedBank,\r\n        successfulOperation: state.common.successfulOperation,\r\n        failedOperation: state.common.failedOperation,\r\n        loggedIn: state.auth.loggedIn,\r\n        token: state.auth.token,\r\n        error: state.common.error\r\n    }); }), bank = _b.bank, successfulOperation = _b.successfulOperation, failedOperation = _b.failedOperation, loggedIn = _b.loggedIn, token = _b.token;\r\n    var dispatch = react_redux_1.useDispatch();\r\n    var action = react_router_1.useParams().action;\r\n    var history = react_router_1.useHistory();\r\n    var _c = react_1.useState(), redirect = _c[0], setRedirect = _c[1];\r\n    var _d = react_1.useState(false), isDeleteConfirmShown = _d[0], setShowDeleteConfirm = _d[1];\r\n    react_1.useEffect(function () {\r\n        dispatch(actions.fetchBank(id));\r\n    }, [id]);\r\n    var logo = react_1.useMemo(function () {\r\n        var fileManagerUrl = Constants.FILE_MANAGER_URL;\r\n        var logoSrc = ((bank === null || bank === void 0 ? void 0 : bank.logoUrl) ? fileManagerUrl + \"/Resources/Images/Banks/\" + bank.logoUrl : 'images/no-image.png');\r\n        return React.createElement(\"img\", { className: \"img-response\", src: logoSrc });\r\n    }, [bank]);\r\n    react_1.useEffect(function () {\r\n        if (!!failedOperation && failedOperation === enums_1.FailedOperationEnum.FetchBank) {\r\n            cancelHandler();\r\n        }\r\n    }, [failedOperation]);\r\n    react_1.useEffect(function () {\r\n        if (!action && successfulOperation === enums_1.SuccessfulOperationEnum.Delete) {\r\n            cancelHandler();\r\n        }\r\n    }, [successfulOperation]);\r\n    var cancelHandler = react_1.useCallback(function () {\r\n        dispatch(actions.clearSelectedBank());\r\n        setRedirect(React.createElement(react_router_1.Redirect, { to: \"/Banks\" }));\r\n    }, [setRedirect]);\r\n    var editHandler = react_1.useCallback(function () {\r\n        history.push(\"/Banks/\" + id + \"/edit\");\r\n    }, [id, history]);\r\n    var deleteConfirmContent = react_1.useMemo(function () {\r\n        return (React.createElement(Modal_1.default, { isShown: isDeleteConfirmShown, type: enums_1.ModalTypeEnum.Component },\r\n            React.createElement(ConfirmDelete_1.default, { onOK: function () { return confirmDeleteHandler(true); }, onCancel: function () { return confirmDeleteHandler(false); } })));\r\n    }, [isDeleteConfirmShown]);\r\n    var deleteHandler = react_1.useCallback(function () {\r\n        setShowDeleteConfirm(true);\r\n    }, [setShowDeleteConfirm]);\r\n    var confirmDeleteHandler = react_1.useCallback(function (isConfirmed) {\r\n        if (isConfirmed) {\r\n            dispatch(actions.deleteBank(id, token));\r\n        }\r\n        setShowDeleteConfirm(false);\r\n    }, [id, token, setShowDeleteConfirm]);\r\n    return (React.createElement(\"div\", { className: classes.BankDetail },\r\n        redirect,\r\n        deleteConfirmContent,\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" }, logo)),\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" },\r\n                React.createElement(\"h4\", null, bank === null || bank === void 0 ? void 0 : bank.name))),\r\n        React.createElement(\"div\", { className: \"row\" },\r\n            React.createElement(\"div\", { className: \"col-12\" },\r\n                React.createElement(\"div\", { className: \"btn-group\" },\r\n                    React.createElement(\"button\", { className: \"btn btn-primary\", onClick: cancelHandler }, \"Back\"),\r\n                    React.createElement(\"button\", { className: \"btn btn-primary dropdown-toggle\", type: \"button\", \"data-bs-toggle\": \"dropdown\", disabled: !loggedIn }, \"Manage\"),\r\n                    React.createElement(\"ul\", { className: \"dropdown-menu\" }, !!loggedIn && (React.createElement(react_1.Fragment, null,\r\n                        React.createElement(\"a\", { className: \"dropdown-item\", onClick: editHandler }, \"Edit\"),\r\n                        React.createElement(\"a\", { className: \"dropdown-item\", onClick: deleteHandler }, \"Delete\")))))))));\r\n});\r\nexports.default = BankDetail;\r\n//# sourceMappingURL=BankDetail.js.map"]},"metadata":{},"sourceType":"module"}